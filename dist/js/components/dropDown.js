"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}var data=[[{name:"全部商品",id:"11"},{name:"新款商品",id:"21"},{name:"活动商品",id:"31"},{name:"活动商品",id:"31"},{name:"活动商品",id:"31"}],[{name:"默认排序",id:"21"},{name:"销量排序",id:"22"},{name:"好评排序",id:"23"}]],cyui={_DropDown:function(e){this.dom=document.querySelector(e.dom||e),this.dropBox=this.dom.querySelector(".drop-box"),this.createDom(),this.dropList=this.dom.querySelectorAll(".drop-list"),this.dropListItem=this.dom.querySelectorAll(".drop-list-item"),this.dropItem=this.dropBox.children,this.show()}};cyui._DropDown.prototype={createDom:function(){var i=this.dropBox;console.log(i),data.forEach(function(e,t){var r=document.createElement("div");r.classList.add("drop-item");var o=document.createElement("div");o.classList.add("drop-item-title");var n=document.createElement("ul");n.classList.add("drop-list");r=i.appendChild(r);r.appendChild(o).innerText=e[0].name;var a=r.appendChild(n);e.forEach(function(e,t){var r=document.createElement("li");r.classList.add("drop-list-item"),r.innerText=e.name,0==t&&r.classList.add("active"),a.appendChild(r)})})},slider:function(){var t,r,e=this,o=document.querySelector(".demo-title").offsetHeight,n=this.dom.offsetHeight,a=document.body.offsetHeight,i=this.dom.offsetTop;_toConsumableArray(this.dropList).forEach(function(e){t=e.offsetHeight,r=-(o+t),a-(n+i)<e.offsetHeight?e.style.top=r+"px":e.style.top=n+"px"}),setInterval(function(){e.slider()},1e3)},show:function(){var e=this.dropBox,o=_toConsumableArray(this.dropItem),n=_toConsumableArray(this.dropList),a=document.querySelector(".demo");e.addEventListener("click",function(e){var t,r;console.log(11111111111),t="drop-item"==e.target.className?e.target:e.target.parentElement,o.forEach(function(e){e!=t&&e.classList.remove("switch-icon")}),"drop-item"==e.target.className?(r=e.target.querySelector(".drop-list"),console.log(r,"cdl")):(r=e.target.nextElementSibling,console.log(r,"title")),o.forEach(function(e){console.log(e),e!=r.parentElement&&e.classList.remove("active")}),n.forEach(function(e){e!=r&&e.classList.remove("show")}),r.style.transition="all 0.05s",r.classList.toggle("show"),a.classList.toggle("mask"),r.parentElement.classList.toggle("active"),r.parentElement.classList.toggle("swit-icon"),e.stopPropagation()},!1),this.slider(),this.active()},active:function(){var e=_toConsumableArray(this.dropList),t=_toConsumableArray(this.dropListItem),r=document.documentElement,o=document.querySelector(".demo");console.log(t,"dLI"),e.forEach(function(e){e.addEventListener("click",function(e){e.target.parentElement.parentElement.classList.remove("swit-icon");for(var t=e.target.previousElementSibling,r=e.target.nextElementSibling;t;)t.classList.remove("active"),t=t.previousElementSibling;for(;r;)r.classList.remove("active"),r=r.nextElementSibling;e.target.classList.add("active"),console.log(e.target.parentElement,"ep"),e.target.parentElement.classList.remove("show"),e.target.parentElement.parentElement.classList.add("active"),e.target.parentElement.previousElementSibling.innerText=e.target.innerText,e.stopPropagation()})}),r.addEventListener("click",function(){e.forEach(function(e){e.classList.remove("show"),console.log(e.parentElement,"ffffffff"),e.parentElement.classList.remove("swit-icon"),e.parentElement.classList.remove("active"),o.classList.remove("mask")})})}};