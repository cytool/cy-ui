"use strict";var cyui={},startTime=null,startX=0;cyui.Drawer=function(t){var e=this;this.trigger=document.querySelector(t.trigger),this.content=document.querySelector(t.content),this.init(),this.trigger.addEventListener("click",function(){return e.show()}),this.content.querySelector(".ui-drawer-close").addEventListener("touchstart",function(){return e.touchStart(event)}),this.content.querySelector(".ui-drawer-close").addEventListener("touchmove",function(){return e.touchmove(event)}),this.content.querySelector(".ui-drawer-close").addEventListener("touchend",function(){return e.touchend(event)})},cyui.Drawer.prototype={init:function(){this.content.classList.add("ui-drawer");var e=document.createElement("div");e.classList.add("ui-drawer-content");var n,t=this.content.childNodes;t&&(n=[],t.forEach(function(t){1===t.nodeType&&n.push(t)}),n.forEach(function(t){return e.appendChild(t)})),this.content.appendChild(e);t=document.createElement("div");t.classList.add("ui-drawer-close"),this.content.appendChild(t),this.initEvent()},initEvent:function(){var t=this;this.content.querySelector(".ui-drawer-close").addEventListener("click",function(){return t.close()})},show:function(){this.content.classList.add("ui-drawer-open")},close:function(){this.content.classList.remove("ui-drawer-open")},touchStart:function(t){startTime=new Date,startX=t.changedTouches[0].clientX,console.log(startX,"touchStart")},touchmove:function(t){t=t.changedTouches[0].clientX-startX;0<t&&this.content.querySelector(".ui-drawer-content").setAttribute("style","transform:translateX("+t+"px)"),console.log(Math.abs(t),t,"touchmove")},touchend:function(t){var e=t.changedTouches[0].clientX-startX,n=Date.now()-startTime,t=this.content.querySelector(".ui-drawer-content").offsetWidth;Math.abs(e)>t/3||n<300&&30<Math.abs(e)?0<e&&(console.log("touchend"),this.close(),this.content.querySelector(".ui-drawer-content").removeAttribute("style")):(this.show(),this.content.querySelector(".ui-drawer-content").removeAttribute("style"))}};