"use strict";var regRules={notNum:/(?:(?![0-9])[\s\S])+/gi,phone:/^1[3-9][0-9]{9}$/gi,idCode:/^[1-9][0-9]{5}(19[0-9]{2}|20[01\|][0-9])(0[1-9]|1[0-2\|])(0[1-9]|[12\|][0-9]|3[01\|])[0-9]{3}([0-9]|X)$/,email:/^[0-9A-Z_a-z]+([\+\x2D\.][0-9A-Z_a-z]+)*@[0-9A-Z_a-z]+([\x2D\.][0-9A-Z_a-z]+)*\.[0-9A-Z_a-z]+([\x2D\.][0-9A-Z_a-z]+)*$/,bankCode:/^([1-9]{1})([0-9]{15}|[0-9]{18})$/},errType={empty:"必填项",phone:"手机号位数不对"},cyui={Form:function(t){var e=this;this.tipSkin=t.tipSkin||1,this.dom=document.querySelector(t.dom||t),this.dom.addEventListener("input",function(t){return e.input(t)}),this.dom.addEventListener("blur",function(t){return e.blur(t)},!0),null!==(t=this.dom.querySelector("[data-submit]"))&&void 0!==t&&t.addEventListener("click",function(t){return e.submit()})}};cyui.Form.prototype={submit:function(t){},input:function(t){t.target.value=t.target.value.replace(regRules.notNum,""),this.removeErr(t)},blur:function(t){if(console.log(t,"blur",this),"INPUT"==t.target.nodeName){var e=t.target.value.trim(),i=t.target.dataset.required,r=t.target.dataset.verify;if(void 0!==i&&this.verifyRequired(e))return this.addErr(t,"empty");r&&(void 0===i&&!e||this.verifyRule(e,r)||this.addErr(t,"phone"))}},verifyRequired:function(t){return!t},verifyRule:function(t,e){return regRules[e].test(t)},addErr:function(t,e){var i=t.target.closest(".ui-form-item").querySelector(".ui-input-err");t.target.closest(".ui-input-content").classList.add("ui-input-content-err"),i||(i=1===this.tipSkin?".ui-input-box":".ui-form-item",t=t.target.closest(i),(i=document.createElement("div")).classList.add("ui-input-err"),i.innerHTML=errType[e],t.appendChild(i))},removeErr:function(t){var e=t.target.closest(".ui-form-item").querySelector(".ui-input-err"),t=t.target.closest(".ui-input-content").classList;e&&e.remove(),t.remove("ui-input-content-err")},clearErr:function(t){this.dom.querySelectorAll(".ui-input-err").forEach(function(t){t.closest(".ui-input-content").classList.remove("ui-input-content-err"),t.remove()})},switchSkin:function(){this.clearErr(),this.tipSkin=1==this.tipSkin?2:1}};